<div id="home-whats-new-section">
  <div class="home-section-title d-flex justify-content-between align-items-center mb-3">
    <h5 class="mb-0 whats-new-title-heading">What&rsquo;s New</h5>
    <a href="/sites/staffportal-dev/SitePages/whats-new.aspx" class="view-more">View More</a>
  </div>
{{ItemTemplate}}
</div>




<div class="new-item">
  <div class="new-item-icon {{SPVineDepartment}}">{{SPVineDepartment}}</div>
  <p class="new-item-title mb-0"><a href="{{FileRef}}">{{SPSWNShortDescription}}</a></p>
</div>






<div data-type="Created" data-withindates="true" id="announcements-filter-section">
    <div id="date-filter-sec"><div>
      <label for="from-date">From Date</label>
      <input class="datepicker from" type="date" id="from-date" placeholder="DD/MMM/YYYY">
    </div><div>
      <label for="to-date">To Date</label>
      <input class="datepicker to" type="date" id="to-date" placeholder="DD/MMM/YYYY">
    </div></div>
    
  </div>





<div id="whats-new-section">
    <table id="whats-new-table">
        <thead>
            <th></th>
        </thead>
        <tbody>
            {{ItemTemplate}}
        </tbody>
    </table>
</div>



<tr>
    <td>
        <div class="whats-new-card">
            <div class="icon-content-wraper">
                <div class="whats-new-left-icon">
                    <span>{{SPVineDepartment}}</span>
                </div>
                <div class="whats-new-content">
                    <h3 class="whats-new-event-title"><a href="{{FileRef}}">{{Title}}</a></h3>
                    <p class="whats-new-event-content">{{SPSWNShortDescription}}</p>
                    <div class="date momentdate">moment({{PublishedDate}}).format("DD MMM YYYY")</div>
                </div>
            </div>
            <div class="event-arrow">></div>
        </div>
    </td>
</tr>





<script>
function equalHeights(sel) {
  const els = [...document.querySelectorAll(sel)];
  const max = Math.max(...els.map(el => (el.style.height = '', el.offsetHeight)));
  els.forEach(el => el.style.height = `${max}px`);
}
  setTimeout(function () {
    if ($("#eventCarousel.newsCarousel").length == 0) {
      $('#eventCarousel').slick({
        dots: false,
        infinite: false,
        speed: 500,
        slidesToShow: 4,
        slidesToScroll: 4,
        autoplay: false,
        autoplaySpeed: 2000
      });
equalHeights('#home-calendar-section .event-card');
window.addEventListener('resize', () => equalHeights('#home-calendar-section .event-card'));
    }
  }, 3500);
</script>



<div id="home-calendar-section">
  <div class="home-section-title d-flex justify-content-between align-items-center mb-0">
    <h5>Calendar</h5>
    <a href="#" class="view-more">View More</a>
  </div>
  <div id="eventCarousel">
    {{ItemTemplate}}
  </div>
</div>



<div class="col-md-2">
  <div class="event-card">
    <div class="event-date momentdate">moment({{PublishedDate}}).format("DD MMM")</div>
    <div class="event-title"><a href="{{FileRef}}">{{Title}}</a></div>
  </div>
</div>
